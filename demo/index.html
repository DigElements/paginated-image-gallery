<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <script src="../../webcomponentsjs/webcomponents-lite.min.js"></script>
  <link rel="import" href="../paginated-image-gallery.html">
</head>

<body unresolved>
  <template is="dom-bind" id="demo">
    <p>Image Items: {{stringify(items)}}</p>
    <p>Shown Items: {{getShownItems(page)}}</p>
    <p>Total Items: {{items.length}}</p>
    <p>Image Link Property: link</p>
    <p>Image Source Property: source</p>
    <p>Blur: false</p>
    <p>Loading: false</p>
    <p>New Tab: true</p>
    <p>Page: {{page}}</p>
    <p>Show More: {{showMore}}</p>

    <paginated-image-gallery
      total-items="{{items.length}}"
      shown-items="{{shownItems}}"
      page="{{page}}"
      image-link-property="link"
      image-source-property="source"
      blur="false"
      show-more="{{showMore}}"
      new-tab>
    </paginated-image-gallery>
  </template>
  <script>
    (function(document) {
      var demo = document.querySelector('#demo');

      demo.shownItems = [{'link':'http://nextcentury.com','source':'NextCentury.png'}];
      demo.items = [{'link':'http://nextcentury.com','source':'NextCentury.png'},{'link':'https://github.com/DigElements/paginated-image-gallery','source':'dig.png'}];
      demo.showMore = true;

      demo.stringify = function(json) {
        return JSON.stringify(json);
      };

      demo.getShownItems = function(page) {
        var currentIndex = page - 1;

        if(currentIndex) {
          this.push('shownItems', this.items[currentIndex]);
          this.showMore = (this.items.length === this.shownItems.length) ? false : true;
        }
        return this.stringify(this.shownItems);
      };

    })(document);
  </script>
</body>
</html>
