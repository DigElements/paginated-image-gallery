<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../image-gallery/image-gallery.html">
<link rel="import" href="../paginated-list/paginated-list.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html">

<!--
A Polymer Element showing an image-gallery element in a paginated-list element.

### Example
```html
<paginated-image-gallery
  image-items="[[list]]"
  total-items="[[size]]"
  loading="[[loading]]"
  page="{{page}}">
</paginated-image-gallery>
```

### Styling

`<paginated-image-gallery>` provides the following custom properties and mixins for styling:

Custom property                        | Description                   | Default
---------------------------------------|-------------------------------|--------
`--paginated-image-gallery-max-height` | Maximum height of the gallery | 800px

@demo demo/index.html
-->

<dom-module id="paginated-image-gallery">
  <template>
    <style include="iron-flex iron-flex-alignment"></style>

    <style>
      :host {
        display: block;
      }

      paginated-list {
        /* By default, the height of 5 rows of images. */
        --paginated-list-max-height: var(--paginated-image-gallery-max-height, 800px);
      }
    </style>

    <paginated-list
      loading="[[loading]]"
      load-type="[[loadType]]"
      items="[[imageItems]]"
      total-items="[[totalItems]]"
      page="{{page}}"
      page-size="[[pageSize]]"
      shown-items="{{shownItems}}">

      <image-gallery
        images="[[shownItems]]"
        image-link-property="[[imageLinkProperty]]"
        image-source-property="[[imageSourceProperty]]"
        blur="[[blur]]"
        new-tab="[[newTab]]">
      </image-gallery>
    </paginated-list>
  </template>

  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'paginated-image-gallery',

      properties: {
        /**
         * (Required)
         *
         * The images to show in this list that are reset for each new page.
         *
         * @type {Array}
         */
        imageItems: {
          type: Array
        },

        /**
         * (Required)
         *
         * The total number of images for all pages.
         *
         * @type {Number}
         */
        totalItems: {
          type: Number
        },

        /**
         * (Output)
         *
         * The images shown in this list that are taken from the input image-items.
         *
         * @type {Array}
         */
        shownItems: {
          type: Array,
          notify: true
        },

        /**
         * (Optional|Output)
         *
         * The current page.
         *
         * @type {Number}
         * @default 1
         */
        page: {
          type: Number,
          value: 1,
          notify: true
        },

        /**
         * (Optional)
         *
         * The page size (or 0 for no page size).
         *
         * @type {Number}
         * @default 0
         */
        pageSize: {
          type: Number,
          value: 0
        },

        /**
         * (Optional)
         *
         * Whether a query is running.
         *
         * @type {Boolean}
         * @default false
         */
        loading: {
          type: Boolean,
          value: false,
          notify: true
        },

        /**
         * (Optional)
         *
         * The type of items shown in the Loading and Show More text.
         *
         * @type {String}
         * @default ''
         */
        loadType: {
          type: String,
          value: ''
        },

        /**
         * (Optional)
         *
         * The property of the image objects for their link URL to open information within the application.
         *
         * @type {String}
         * @default 'link'
         */
        imageLinkProperty: {
          type: String,
          value: 'link'
        },

        /**
         * (Optional)
         *
         * The property of the image objects for their source URL.
         *
         * @type {String}
         * @default 'source'
         */
        imageSourceProperty: {
          type: String,
          value: 'source'
        },

        /**
         * (Optional)
         *
         * Whether to blur the images.
         *
         * @type {Boolean}
         * @default false
         */
        blur: {
          type: Boolean,
          value: false
        },

        /**
         * (Optional)
         *
         * Whether to open a link in a new tab.
         *
         * @type {Boolean}
         * @default false
         */
        newTab: {
          type: Boolean,
          value: false
        }
      }
    });
  })();
  </script>
</dom-module>
